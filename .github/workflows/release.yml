name: Release

on:
  push:
    branches:
      - main

concurrency: ${{ github.workflow }}-${{ github.ref }}

jobs:
  release:
    uses: SylphxAI/.github/.github/workflows/publish-npm.yml@main
    with:
      build_command: bun run build
      test_command: bun test
      version_command: bun run version
      publish_command: bun run release
    secrets:
      NPM_TOKEN: ${{ secrets.NPM_TOKEN }}
